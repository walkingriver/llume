<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="Simple todo app built with LLuMe">
<title>Todo App</title>
</head>
<body class="p4">
<main class="xw2 mxa f fc g3">
<h1 class="t6 c1 tb" data-m-tx="ti"></h1>
<form id="af" class="f g2">
<input type="text" name="task" data-m-enhance="autofocus" placeholder="What needs done?" required minlength="1" class="fg">
<button type="submit" data-m-enhance="primary ripple">Add</button>
</form>
<ul data-m-bind="items" data-m-tpl="it" data-m-key="id" class="f fc g1"></ul>
<template id="it"><li class="f fi fb p2 bg r"><span data-m-f="tx" class="fg"></span><button data-m-enhance="secondary" onclick="window._del(this)">X</button></li></template>
<p class="cg"><span class="tb" data-m-bind="count"></span> <span data-m-tx="its"></span></p>
</main>
<script type="application/llume+json" id="manifest">{"v":1,"r":{"s":{"items":[],"count":0}},"l":{"en":{"ti":"Todo App","its":"items"}},"t":{"--m-p":"#10b981"}}</script>
<script type="module">
import{l}from"../llume.js";
document.getElementById('af').addEventListener('submit',e=>{e.preventDefault();const t=l.q('[name=task]'),s=l.s();if(!t.value.trim())return;l.u({items:[...s.items,{id:Date.now(),tx:t.value}],count:s.items.length+1});t.value='';t.focus();});
window._del=(btn)=>{const li=btn.closest('li'),s=l.s(),id=parseInt(li.dataset.mK);l.u({items:s.items.filter(i=>i.id!==id),count:s.items.length-1});};
</script>
</body>
</html>
